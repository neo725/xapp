<ion-view class="course-catalogs" ng-controller="CourseCatalogsController">
    <ion-nav-buttons side="left">
        <button class="button button-icon icon ion-ios-arrow-left" ng-click="goBack()"></button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-clear" ng-if="mode == 'Setting'" ng-click="saveSetting()">儲存</button>
        <button class="button button-clear" ng-if="mode == 'List'" ng-click="goSetting()">編輯</button>
    </ion-nav-buttons>
    <ion-nav-title>
        <h1 class="title">課程分類</h1>
    </ion-nav-title>
    <ion-content class="course-catalogs-content">
        <div class="notice-block">
            您可以勾選有興趣的分類，或點選一個分類項目進行指定分類的課程搜尋
        </div>
        <ion-list>
            <ion-item class="item" ng-repeat="catalog in visibleCatalogs" ng-click="goCatalogsSearch(catalog)">
                <div class="row">
                    <div class="col col-20">
                        <img src="img/catalogs/i-c-{{ catalog.Cata_SubDomain }}.png" class="catalog-image" />
                    </div>
                    <div class="col">
                        <div class="item item-toggle toggle-small"
                             toggle-class="toggle-positive">
                            <div><span>{{catalog.Cata_Name}}</span></div>
                            <label class="toggle toggle-positive disable-user-behavior"
                                   ng-show="mode == 'Setting'"
                                   ng-click="toggleCatalogItem(catalog.Cata_Id, $event)">
                                <input type="checkbox" ng-checked="checkCatalogIsChecked(catalog.Cata_Id)">
                                <div class="track"><div class="handle"></div></div>
                            </label>
                        </div>
                        <div ng-class="{ 'title': mode == 'Setting', 'full-title': mode == 'List' }">
                            <span class="sub-item" ng-repeat="subitem in catalog.subCataList">{{subitem.Cata_Name}}</span>
                        </div>
                    </div>
                </div>
            </ion-item>
        </ion-list>
    </ion-content>
</ion-view>