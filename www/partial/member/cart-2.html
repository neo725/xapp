<ion-view>
    <ion-nav-buttons side="left">
        <button class="button button-icon icon ion-ios-arrow-left" ng-click="goBack()"></button>
    </ion-nav-buttons>
    <ion-nav-title>購物車</ion-nav-title>
    <ion-content class="step-2-content" padding="true">
        <form name="paymentForm" novalidate ng-submit="submitForm(paymentForm)">
            <div class="card credit-form" ng-if="checkPayTypeIsCreditCard()">
                <div class="row">
                    <div class="col col-33 col-offset-67 text-right">
                        <img src="img/visa-card.png" class="card-logo" ng-show="checkCardType() == 'visa'" />
                        <img src="img/master-card.png" class="card-logo" ng-show="checkCardType() == 'master'" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-25 text-right label">信用卡卡號</div>
                    <div class="col-75">
                        <label ng-class="{ 'has-error' : paymentForm.card_part1.$invalid}">
                            <input type="number" name="card_part1"
                                   class="number-4 card-number"
                                   ng-model="card.number_part1"
                                   ng-next="card_part2" ng-next-length="4"
                                   maxlength="4" min="1" max="9999"
                                   ng-minlength="4" ng-maxlength="4"
                                   required>
                        </label>
                        <label ng-class="{ 'has-error' : paymentForm.card_part2.$invalid}">
                            <input type="number" name="card_part2"
                                   class="number-4 card-number"
                                   ng-model="card.number_part2"
                                   ng-next="card_part3" ng-next-length="4"
                                   maxlength="4" min="1" max="9999"
                                   ng-minlength="4" ng-maxlength="4"
                                   required>
                        </label>
                        <label ng-class="{ 'has-error' : paymentForm.card_part3.$invalid}">
                            <input type="number" name="card_part3"
                                   class="number-4 card-number"
                                   ng-model="card.number_part3"
                                   ng-next="card_part4" ng-next-length="4"
                                   maxlength="4" min="1" max="9999"
                                   ng-minlength="4" ng-maxlength="4"
                                   required>
                        </label>
                        <label ng-class="{ 'has-error' : paymentForm.card_part4.$invalid}">
                            <input type="number" name="card_part4"
                                   class="number-4 card-number"
                                   ng-model="card.number_part4"
                                   ng-next="card_expire_month" ng-next-length="4"
                                   maxlength="4" min="1" max="9999"
                                   ng-minlength="4" ng-maxlength="4"
                                   required>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25 text-right label">有效日期 (MM/YY)</div>
                    <div class="col-25 expire-date">
                        <label ng-class="{ 'has-error' : paymentForm.card_expire_month.$invalid}">
                            <input type="number" name="card_expire_month"
                                   class="number-2 expire-month"
                                   ng-model="card.expire_month"
                                   ng-next="card_expire_year" ng-next-length="2" ng-next-autofill="0" ng-next-autofill-length="2"
                                   maxlength="2" min="1" max="12"
                                   ng-minlength="2" ng-maxlength="2"
                                   required>
                        </label>
                        <label ng-class="{ 'has-error' : paymentForm.card_expire_year.$invalid}">
                            <input type="number" name="card_expire_year"
                                   class="number-2 expire-year"
                                   ng-model="card.expire_year"
                                   ng-next="card_cvc" ng-next-length="2"
                                   maxlength="2" min="16" max="99"
                                   ng-minlength="1" ng-maxlength="2"
                                   required>
                        </label>
                    </div>
                    <div class="col-33 cvc-label">卡片背面末 3 碼</div>
                    <div class="col-25">
                        <label ng-class="{ 'has-error' : paymentForm.card_cvc.$invalid}">
                            <input type="number" name="card_cvc"
                                   class="number-3 card-cvc"
                                   ng-model="card.cvc"
                                   ng-next="card_holder" ng-next-length="3"
                                   maxlength="3" min="1" max="999"
                                   ng-minlength="3" ng-maxlength="3"
                                   required>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-25 text-right holder-label">持卡人姓名</div>
                    <div class="col-75">
                        <label ng-class="{ 'has-error' : paymentForm.card_holder.$invalid}">
                            <input type="text" name="card_holder"
                                   class="card-holder"
                                   ng-model="card.holder"
                                   required>
                        </label>
                    </div>
                </div>
            </div>
            <div class="list">
                <div class="item indent-item">
                    您的聯絡資料
                </div>
                <label class="item item-input" ng-class="{ 'has-error' : paymentForm.username.$invalid}">
                    <span class="input-label required">姓名</span>
                    <input type="text" name="username"
                           ng-model="user.username"
                           required>
                </label>
                <label class="item item-input" ng-class="{ 'has-error' : paymentForm.email.$invalid}">
                    <span class="input-label required">E-Mail</span>
                    <input type="email" name="email"
                            ng-model="user.email"
                            required>
                </label>
                <label class="item item-input" ng-class="{ 'has-error' : paymentForm.phone.$invalid}">
                    <span class="input-label required">連絡電話</span>
                    <input type="text" name="phone"
                            ng-model="user.phone"
                            required>
                </label>
                <label class="item item-input" ng-class="{ 'has-error' : paymentForm.userid.$invalid}">
                    <span class="input-label required">身分證字號</span>
                    <input type="text" name="userid"
                            ng-model="user.userid"
                            required>
                </label>
                <div class="item text-m-size tip-text">
                    為本部課程異動或詳細課程解說資訊聯繫，聯絡資料務必填寫清楚，若填寫欄位前方以『*』註記，請務必正確填寫
                </div>
            </div>
            <button class="button button-block button-positive">前往結帳</button>
        </form>
    </ion-content>
</ion-view>
