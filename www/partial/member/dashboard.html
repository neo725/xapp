<ion-view class="member-dashboard" ng-controller="MemberDashboardController">
    <ion-nav-bar class="member-dashboard-header">
        <ion-nav-buttons side="left">
            <button class="button button-icon icon ion-ios-arrow-left" ng-click="goBack()"></button>
        </ion-nav-buttons>
        <ion-nav-buttons side="right">
            <button class="button button-icon icon sprite-icon shoppingcar-icon" ng-click="goCart()">
                <i class="sprite-icon-shoppingcar-o-2x"></i>
            </button>
            <div class="cart-badge-container" ng-show="carts.length > 0" ng-click="goCart()">
                <div class="badge badge-assertive badge-s-size cart-badge">{{carts.length}}</div>
            </div>
        </ion-nav-buttons>
        <ion-nav-title>
            <h1 class="title">會員功能</h1>
        </ion-nav-title>
    </ion-nav-bar>
    <ion-content class="has-header" ng-class="{ 'pane-content': true }">
        <div class="bg" ng-if="false">
            <div class="item-avatar">
                <img class="img-avatar" src="img/member-pic@2x.png" />
                <div class="title" ng-click="modalFunction.show()">
                    <h3>{{ member.memb_name }} <img src="img/edit@2x.png" /></h3>
                    <p>{{ member.memb_email }}</p>
                </div>
            </div>
        </div>
        <div class="member-info">
            <div class="edit-button" ng-click="goEdit()">
                編輯
            </div>
            <div class="row">
                <div class="col col-33 avatars" ng-click="takePicture()">
                    <div class="crop-mask">
                        <img id="guest-avatars2" src="img/member-pic@2x.png" ng-if="false" />
                        <img id="guest-avatars" src="img/fake-avatars.jpg" ng-if="avatars == undefined" />
                        <img id="user-avatars" ng-src="{{ 'data:image/jpeg;base64,' + avatars }}" ng-if="avatars != undefined" />
                    </div>
                    <div class="change-pic">
                        <img src="img/changepic@2x.png" />
                    </div>
                </div>
                <div class="col detail-col">
                    <div class="name-line">
                        <span class="name">蕭家豪</span>
                        <span class="gender-title">先生</span>
                    </div>
                    <div class="line phone-line">
                        0986123456
                    </div>
                    <div class="line email-line">
                        jasonshaw@sce.pccu.edu.tw
                    </div>
                </div>
            </div>
            <div class="row item-row">
                <div class="col">
                    <ion-list>
                        <ion-item>
                            <div class="item-toggle"
                                 toggle-class="toggle-positive"
                                 ng-click="toggleNotification($event)">
                                <div><span>{{ '通知課程學習相關資訊功能' }}</span></div>
                                <label class="toggle toggle-positive disable-user-behavior"
                                       ng-click="toggleNotification($event)">
                                    <input type="checkbox" ng-checked="checkNotificationIsChecked()">
                                    <div class="track"><div class="handle"></div></div>
                                </label>
                            </div>
                        </ion-item>
                    </ion-list>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="function-list">
                <div class="row">
                    <div class="col function-item" ng-click="goMessageList()">
                        <div class="function-image"><img src="img/member-03@2x.png" /></div>
                        <div class="function-title">學習訊息</div>
                        <div class="function-count">(<span class="count">3</span>)</div>
                    </div>
                    <div class="col col-33 function-item" ng-click="goWishList()">
                        <div class="function-image"><img src="img/member-01@2x.png" /></div>
                        <div class="function-title">收藏清單</div>
                        <div class="function-count">(<span class="count">15</span>)</div>
                    </div>
                    <div class="col col-33 function-item" ng-click="goOrderList()">
                        <div class="function-image"><img src="img/member-02@2x.png" /></div>
                        <div class="function-title">訂單管理</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col function-item" ng-click="goFinishList()">
                        <div class="function-image"><img src="img/member-04@2x.png" /></div>
                        <div class="function-title">已完成課程</div>
                        <div class="function-count">(<span class="count">8</span>)</div>
                    </div>
                    <div class="col col-33 function-item" ng-click="goSuggest()">
                        <div class="function-image"><img src="img/opinionmail@2X.png" /></div>
                        <div class="function-title">意見信箱</div>
                    </div>
                    <div class="col col-33 function-item">
                        <div class="function-image"><img src="img/payedit@2x.png" /></div>
                        <div class="function-title">付款設定</div>
                    </div>
                </div>
            </div>
            <button class="button button-block button-positive" ng-click="logout()">
                登出
            </button>
            <div class="row">
                <div class="col text-center">
                    App version: {{ app_version }}
                </div>
            </div>
        </div>
    </ion-content>
    <script id="templates/modal-function.html" type="text/ng-template">
        <ion-modal-view class="modal-box function-box">
            <ion-content class="padding" scroll="false">
                <div class="list">
                    <a class="item" ng-click="goEdit()">
                        <p>編輯帳號</p>
                    </a>
                    <a class="item" ng-click="goSuggest()">
                        <p>意見信箱</p>
                    </a>
                    <a class="item" href="#" ng-click="logout()">
                        <p>帳號登出</p>
                    </a>
                </div>
            </ion-content>
        </ion-modal-view>
    </script>
</ion-view>